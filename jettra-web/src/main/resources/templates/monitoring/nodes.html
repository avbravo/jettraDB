{#for node in nodes}
<div class="card">
    <div style="display: flex; justify-content: space-between; align-items: start;">
        <div>
            <h3 style="margin:0">Node: {node.id}</h3>
            {#if node.raftRole == "LEADER"}
            <span
                style="font-size: 0.65rem; background: rgba(99, 102, 241, 0.2); color: var(--primary); padding: 0.1rem 0.4rem; border-radius: 4px; font-weight: 700; margin-top: 0.25rem; display: inline-block; border: 1px solid var(--primary);">LEADER</span>
            {/if}
        </div>
        <span
            class="status-dot {node.status == 'ONLINE' || node.status == 'online' ? 'status-online' : 'status-offline'}"
            style="background: {node.status == 'ONLINE' || node.status == 'online' ? '#10b981' : '#ef4444'}; box-shadow: 0 0 10px {node.status == 'ONLINE' || node.status == 'online' ? '#10b981' : '#ef4444'}">
        </span>
    </div>
    <p style="margin: 0.5rem 0">Role: {node.role}</p>
    <small style="color: #94a3b8; display: block; margin-bottom: 1rem;">Address: {node.address}</small>
    <div style="display: flex; gap: 0.5rem; margin-top: 1rem;">
        <button class="btn"
            style="flex: 1; background: rgba(99, 102, 241, 0.1); border: 1px solid rgba(99, 102, 241, 0.3);"
            onclick="showNodeResources('{node.id}')">ğŸ” Resources</button>
        {#if isSuperUser}
        <button class="btn" id="stop-btn-{node.id}"
            style="flex: 1; background: rgba(239, 68, 68, 0.1); color: #ef4444; border: 1px solid rgba(239, 68, 68, 0.3);"
            onclick="stopNode('{node.id}')">ğŸ›‘ Stop</button>
        {/if}
    </div>
</div>
{#else}
<div style="color: grey; padding: 1rem;">No nodes registered.</div>
{/for}